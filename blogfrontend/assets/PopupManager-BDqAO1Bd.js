import{usePopupStore as v}from"./PopupStore-CnvlBdtO.js";import{r as f,o as y,c,a as u,b as d,d as x,e as b,t as h,n as k,u as T,f as _,g as w,w as m,F as S,h as B,i as P,j as C,k as M}from"./index-DZad7mRp.js";const $={class:"pl-4 text-center"},j={__name:"PopupMessage",props:{id:{type:Symbol,required:!0},message:String,type:{type:String,default:"alert-error"}},emits:["close"],setup(r,{emit:a}){const s=f(!1);let o=setTimeout(()=>i(),1e3),e=setTimeout(()=>t(),6e3);function i(){s.value=!0}const t=()=>{e&&clearTimeout(e),o&&clearTimeout(o),l("close",n.id)},n=r,l=a;return y(()=>{e&&clearTimeout(e),o&&clearTimeout(o)}),(g,p)=>(u(),c("div",{class:k(["alert relative flex transform justify-between rounded-full p-4 shadow-lg transition-opacity duration-5000 ease-in",[s.value?"opacity-0":"opacity-100",n.type]])},[d("span",$,[x(g.$slots,"default",{},()=>[b(h(r.message),1)])]),d("button",{onClick:p[0]||(p[0]=z=>t(r.id)),class:"btn btn-circle btn-sm border-none text-xl !text-error shadow-md dark:btn-neutral"}," Ã— ")],2))}},q={__name:"PopupManager",setup(r){const a=T(_),s=v(),o=t=>{s.close(t)},e=f(400),i=()=>{a.greaterOrEqual("xl").value?e.value=700:a.active().value==="lg"?e.value=600:a.active().value==="md"?e.value=500:e.value=340};return w(()=>{i()}),m(a.active(),i),m(s.popups,(t,n)=>{console.log("Popup list changed:"),console.log("Old:",n),console.log("New:",t)}),(t,n)=>(u(),c("div",{class:"fixed left-1/2 top-4 z-50 flex -translate-x-1/2 flex-col gap-1",style:M({width:`${e.value}px`})},[(u(!0),c(S,null,B(C(s).popups,l=>(u(),P(j,{id:l.id,key:l.id,message:l.message,type:l.type,onClose:o},null,8,["id","message","type"]))),128))],4))}};export{q as default};
